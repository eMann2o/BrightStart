<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Districts & Schools Popup</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    /* Minimal styles for layout */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f4f4;
    }
    .main-container {
      padding: 20px;
    }
    .header-section {
      text-align: center;
      margin-bottom: 20px;
    }
    .map-container {
      position: relative;
      height: 300px;
      background: #e0e0e0;
      margin-bottom: 20px;
    }
    .district-pin {
      position: absolute;
      cursor: pointer;
      color: red;
    }
    .district-label {
      font-size: 12px;
      background: white;
      padding: 2px 5px;
      border-radius: 4px;
      margin-top: 3px;
      display: inline-block;
    }
    .districts-list {
      list-style: none;
      padding: 0;
    }
    .district-item {
      padding: 8px;
      margin: 4px 0;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .district-item:hover {
      background: #f0f0f0;
    }
  </style>
</head>
<body>

<div class="main-container" id="district">
  <div class="content-container">
    <div class="header-section">
      <h1 class="section-title">Covered Districts</h1>
      <p class="section-subtitle">Seven coastal districts in Ghana's Western Region</p>
    </div>

    <div class="map-container">
      <!-- Example District Pins -->
      <div class="district-pin pin-ahanta-west" style="top:40%; left:30%;" data-pin="ahanta-west">
        <i class="fa-solid fa-location-dot"></i>
        <div class="district-label">Ahanta-West</div>
      </div>

      <div class="district-pin pin-shama" style="top:50%; left:50%;" data-pin="shama">
        <i class="fa-solid fa-location-dot"></i>
        <div class="district-label">Shama</div>
      </div>

      <div class="district-pin pin-stma" style="top:60%; left:40%;" data-pin="stma">
        <i class="fa-solid fa-location-dot"></i>
        <div class="district-label">STMA</div>
      </div>
    </div>

    <!-- Districts List -->
    <div class="districts-list-container">
      <h2 class="districts-list-title">All Covered Districts</h2>
      <ul class="districts-list">
        <li class="district-item" data-pin="ahanta-west">
          <span class="district-name">Ahanta-West District</span>
        </li>
        <li class="district-item" data-pin="shama">
          <span class="district-name">Shama District</span>
        </li>
        <li class="district-item" data-pin="stma">
          <span class="district-name">Sekondi-Takoradi Metropolitan Assembly (STMA)</span>
        </li>
      </ul>
    </div>
  </div>
</div>

<script>
/* ===================== DISTRICT & SCHOOL DATA ===================== */
const districtData = {
  "ahanta-west": {
    name: "Ahanta-West District",
    schools: [
      { name: "Cape 3 Points M/A Basic School", img: "images/schools/cape3points.jpg" },
      { name: "Miemia M/A Basic School", img: "images/schools/miemia.jpg" }
    ]
  },
  "shama": {
    name: "Shama District",
    schools: [
      { name: "Shama Junction D/A Primary School", img: "images/schools/shama-junction.jpg" },
      { name: "Abuesi Methodist Basic School (A & B)", img: "images/schools/abuesi.jpg" }
    ]
  },
  "stma": {
    name: "Sekondi-Takoradi Metropolitan Assembly (STMA)",
    schools: [
      { name: "St. John The Baptist Catholic Basic School", img: "images/schools/st-john.jpg" },
      { name: "Gethsamane M/A Basic School", img: "images/schools/gethsamane.jpg" }
    ]
  }
};

/* ===================== POPUP FUNCTIONS ===================== */

// Show list of schools for district
function showSchoolList(districtKey) {
  const district = districtData[districtKey];
  if (!district) return;

  // Create clickable school list
  const schoolListHtml = district.schools.map((school, index) =>
    `<li style="padding:8px; cursor:pointer; border-bottom:1px solid #ddd;" onclick="showSchoolImage('${districtKey}', ${index})">${school.name}</li>`
  ).join('');

  Swal.fire({
    title: district.name,
    html: `<ul style="list-style:none; padding:0; margin:0; text-align:left;">${schoolListHtml}</ul>`,
    showConfirmButton: false,
    width: '600px'
  });
}

// Show image of clicked school
function showSchoolImage(districtKey, schoolIndex) {
  const school = districtData[districtKey].schools[schoolIndex];

  Swal.fire({
    title: school.name,
    html: `
      <img src="${school.img}" style="width:100%; border-radius:10px; margin-bottom:15px;">
    `,
    confirmButtonText: 'Close',
    width: '500px'
  });
}

/* ===================== EVENT LISTENERS ===================== */

// Pins
document.querySelectorAll('.district-pin').forEach(pin => {
  pin.addEventListener('click', () => {
    const districtKey = pin.getAttribute('data-pin');
    showSchoolList(districtKey);
  });
});

// District List Items
document.querySelectorAll('.district-item').forEach(item => {
  item.addEventListener('click', () => {
    const districtKey = item.getAttribute('data-pin');
    showSchoolList(districtKey);
  });
});
</script>

</body>
</html>
